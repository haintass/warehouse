<div ng-if="warehouse.table" class="container">
    <div class="table-title">
        <div class="row">
            <div class="col-sm-8">
                <h1>
                    <b class="font-weight-normal">{{warehouse.name}}</b>
                </h1>
            </div>
            <div class="col-sm-8">
                <h4 ng-show="!warehouseInfo.editMode" style="display: inline-block; vertical-align: 3px; margin-right: 10px;">
                    <b>{{warehouse.table.name}}</b>
                </h4>
                <input ng-show="warehouseInfo.editMode" ng-model="warehouseInfo.tableName" type="text">


                <a ng-show="!warehouseInfo.editMode" ng-click="IsEditMode()" class="edit" title="Edit name" data-toggle="tooltip">
                    <i class="material-icons">&#xE254;</i>
                </a>
                <a ng-show="warehouseInfo.editMode" ng-click="ChangeTableName()" class="add add-changes" title="Ð¡onfirm" data-toggle="tooltip">
                    <i class="material-icons">&#xE03B;</i>
                </a>
                <a ng-click="DeleteTable()" class="delete" title="Delete table" data-toggle="tooltip">
                    <i class="material-icons">&#xE872;</i>
                </a>
            </div>
            <div class="col-sm-4">
                <button ng-click="CancelNewItems()" type="button" id="addNewButton" class="btn btn-info add-new">
                    <i class="fa fa-plus"></i> New Item</button>
            </div>
        </div>
    </div>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th ng-repeat="item in itemsName">{{item}}</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="item in warehouse.table.listOfItems">
                <td ng-if="!item.isEditMode" ng-repeat="value in item.item track by $index">
                    <div>{{value}}</div>
                    <!-- <input ng-show="item.isEditMode" class="form-control" type="text" value="{{value}}"> -->
                </td>
                <td ng-if="!item.isEditMode">
                    <div>{{item.count}}</div>
                </td>

                <td ng-if="item.isEditMode">
                    <input ng-model="warehouseInfo.item.value.name" type="text" class="form-control">
                </td>
                <td ng-if="item.isEditMode">
                    <input ng-model="warehouseInfo.item.value.price" type="number" class="form-control">
                </td>
                <td ng-if="item.isEditMode">
                    <div class="custom-control custom-checkbox">
                        <input ng-model="warehouseInfo.item.value.madeInChina" type="checkbox" class="custom-control-input" id="defaultUnchecked">
                        <label class="custom-control-label" for="defaultUnchecked">DO it!</label>
                    </div>
                </td>                
                <td ng-if="item.isEditMode">
                    <input ng-model="warehouseInfo.item.count" value="" type="number" class="form-control">
                </td>

                <td>
                    <a ng-show="!item.isEditMode" ng-click="IsEditModeItems($index)" class="edit" title="Edit" data-toggle="tooltip">
                        <i class="material-icons">&#xE254;</i>
                    </a>
                    <a ng-show="item.isEditMode" ng-click="SaveChangesOfItems($index)" class="add add-changes" title="Add" data-toggle="tooltip">
                        <i class="material-icons">&#xE03B;</i>
                    </a>
                    <a ng-show="item.isEditMode" ng-click="ChangeEditModeOfItems($index)" class="delete" title="Delete" data-toggle="tooltip">
                        <i class="material-icons">&#xE872;</i>
                    </a>
                    <a ng-show="!item.isEditMode" ng-click="DeleteItems($index)" class="delete" title="Delete" data-toggle="tooltip">
                        <i class="material-icons">&#xE872;</i>
                    </a>
                </td>
            </tr>
            <tr ng-show="isNewRow">
                <td>
                    <input ng-model="warehouseInfo.item.value.name" type="text" class="form-control">
                </td>
                <td>
                    <input ng-model="warehouseInfo.item.value.price" type="number" class="form-control">
                </td>
                <td>
                    <div class="custom-control custom-checkbox">
                        <input ng-model="warehouseInfo.item.value.madeInChina" type="checkbox" class="custom-control-input" id="defaultUnchecked">
                        <label class="custom-control-label" for="defaultUnchecked">DO it!</label>
                    </div>
                </td>
                <td>
                    <input ng-model="warehouseInfo.item.count" value="" type="number" class="form-control">
                </td>

                <td>
                    <a ng-click="AddItemsToTable()" class="add add-new-item" title="Add" data-toggle="tooltip" data-original-title="Add">
                        <i class="material-icons">&#xE03B;</i>
                    </a>
                    <a ng-click="CancelNewItems()" class="delete" title="Delete" data-toggle="tooltip">
                        <i class="material-icons">&#xE872;</i>
                    </a>
                </td>
            </tr>
        </tbody>
        <caption ng-show="TableIsEmpty() && !isNewRow" style="caption-side: bottom; text-align: center; background: #F8F8F8">
            <h3>Table is empty</h3>
        </caption>
    </table>
</div>

<div ng-if="!warehouse.table" class="container">
    <div class="table-title">
        <div class="row">
            <div class="col-sm-8">
                <h1>
                    <b class="font-weight-normal">{{warehouse.name}}</b>
                </h1>
            </div>
        </div>
        <div class="row">
            <div class="input-group mb-3 col-sm-4" style="width: 300px;">
                <input data-ng-model="warehouseInfo.tableName" type="text" class="form-control" placeholder="New table name" aria-label="New table name" aria-describedby="button-addon2">
                <div class="input-group-append">
                  <button data-ng-click="CreateTable()" class="btn btn-outline-secondary" type="button" id="button-addon2">Create</button>
                </div>
            </div>
        </div>
    </div>
</div>